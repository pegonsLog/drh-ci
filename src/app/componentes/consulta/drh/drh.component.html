<div class="data-card">
  <div class="card-header">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
      class="header-icon">
      <path stroke-linecap="round" stroke-linejoin="round"
        d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z" />
    </svg>
    <h4>DRH</h4>
  </div>

  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <span>Carregando dados...</span>
  </div>

  <div *ngIf="!isLoading && notionData.length > 0" class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th>Mat</th>
          <th>Aquisitivo</th>
          <th>Data Folga</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of notionData">
          <td>{{ item.properties['Matricula']?.title?.[0]?.plain_text || 'N/A' }}</td>
          <td [ngClass]="{'disponivel': !item.properties['Aquisitivo']?.multi_select?.[0]?.name}">
            {{ item.properties['Aquisitivo']?.multi_select?.[0]?.name | abbreviateYear }}
          </td>
          <td [ngClass]="{'disponivel': !item.properties['Data Folga']?.date?.start}">
            {{ (item.properties['Data Folga']?.date?.start | date:'dd/MM/yy') || 'Disponível' }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="!isLoading && notionData.length === 0" class="empty-state">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round"
        d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5m6 4.125l2.25 2.25m0 0l2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z" />
    </svg>
    <p>Você não tem dados no DRH</p>
  </div>
</div>